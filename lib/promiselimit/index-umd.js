!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).promiselimit={})}(this,(function(e){"use strict";e.promiselimit=function(e){let n=0,t=[];function i(){if(t.length>0&&n<e){const e=t.shift();n++,e().finally((()=>{n--,i()}))}}return function(o){return new Promise(((f,s)=>{t.push((()=>new Promise(((e,n)=>{o().then((n=>{e(n),f(n)})).catch((e=>{n(e),s(e)}))})))),n<e&&i()}))}}}));
