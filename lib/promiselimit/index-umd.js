!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).promiselimit={})}(this,(function(e){"use strict";e.promiselimit=function(e){let n=0,t=[];function i(){if(t.length>0&&n<e){const e=t.shift();n++,e().finally((()=>{n--,i()})),i()}}return function(e){return new Promise(((n,o)=>{t.push((()=>new Promise(((t,i)=>{e().then((e=>{t(e),n(e)})).catch((e=>{i(e),o(e)}))})))),i()}))}}}));
