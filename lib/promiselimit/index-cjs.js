"use strict";exports.promiselimit=function(t){let n=0,e=[];function i(){if(e.length>0&&n<t){const t=e.shift();n++,t().finally((()=>{n--,i()}))}}return function(r){return new Promise(((s,o)=>{e.push((()=>new Promise(((t,n)=>{r().then((n=>{t(n),s(n)})).catch((t=>{n(t),o(t)}))})))),n<t&&i()}))}};
